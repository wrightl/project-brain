@base_url = {{AUTH0_AUDIENCE}}/conversation

// Get access token
# @name getAccessToken
POST https://{{AUTH0_DOMAIN}}/oauth/token HTTP/1.1
Content-Type: application/json

{
    "client_id": "{{AUTH0_CLIENT_ID}}",
    "client_secret": "{{AUTH0_CLIENT_SECRET}}",
    "audience": "{{AUTH0_AUDIENCE}}",
    "grant_type": "client_credentials"
}

###

@access_token = {{getAccessToken.response.body.access_token}}

# GetAll
GET {{base_url}}
Authorization: Bearer {{access_token}}
###

// Create an conversation
# @name createConversation
POST {{base_url}}
Authorization: Bearer {{access_token}}
content-type: application/json

{
    "title": "New conversation"
}
###
@id = {{createConversation.response.body.id}}
###

GET {{base_url}}/{{id}}
Authorization: Bearer {{access_token}}
###

# GetAll
GET {{base_url}}
Authorization: Bearer {{access_token}}
###

PUT {{base_url}}/{{id}}
Authorization: Bearer {{access_token}}
content-type: application/json

{
    "Title": "This is a new title"
}
###

GET {{base_url}}/{{id}}
Authorization: Bearer {{access_token}}
###

GET {{base_url}}/1b334edb-2077-4211-85a4-c09ec4505ea2/full
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkoyZUNvODNfNXhsalR1dnM5Y3VyZCJ9.eyJodHRwczovL3Byb2plY3RicmFpbi5hcHAvcm9sZXMiOlsidXNlciJdLCJpc3MiOiJodHRwczovL2Rldi1jcGQ2YXJtYTgwMzg2aTVyLnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJ3aW5kb3dzbGl2ZXw2YzFlZjFkNDE1OGUwYTliIiwiYXVkIjpbImh0dHBzOi8vbG9jYWxob3N0Ojc1ODUiLCJodHRwczovL2Rldi1jcGQ2YXJtYTgwMzg2aTVyLnVzLmF1dGgwLmNvbS91c2VyaW5mbyJdLCJpYXQiOjE3NjM5MTUyNTEsImV4cCI6MTc2NDAwMTY1MSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCBvZmZsaW5lX2FjY2VzcyIsImF6cCI6ImNNSlI5ZkpHclNaVjZlaEl1azM1cG5sTllsWmk5bHFZIiwicGVybWlzc2lvbnMiOltdfQ.Ww2NRjxIUuYN6Y4ADv46xVCvsHaycj8FiIzymU62huAYZ66EgLx7vr8JmJKk5IFT4COi2Ee0rZZOyQw-1rLfvR2TXQKkqruewe6iUDjfCso7aXyIftiDa0LLhWywrVaslWZTjy0lXkeZuqEA59AxEJCwQ_PSASyjvZ-UecqDzXKTPi60S-9MEA3DEfm0KGK7SYnH-fOBVXJ78m3vJqFFULFCIAyNR96-mFsk29eQ5IFi1TjSKFJ65RBP1CRXOoKzE10ncYOj4PbsuPCI4wiivH_JgcyMH-7viXk3x3O5GivQE7uoQBlGQ7dd7Gz_wHMDiO9XDul8qvz-ye6oY8K-mw
###

DELETE {{base_url}}/{{id}}
Authorization: Bearer {{access_token}}
###
